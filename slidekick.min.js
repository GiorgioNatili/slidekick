(function(e,t,n){"use strict";function h(e,t,r){e.$container=r,e.$container.css({overflow:"hidden",position:"relative"}),e.$container.on("scroll",function(e){n(this).scrollLeft(0)}),e.selected=undefined,e.views=[],e.options=n.extend({loop:!0,duration:"800",transitions:!0,skipScroll:!1,forcejQuery:!1,buffer:{classes:""},swipe:{enabled:!1,toleranceX:100}},t),(!l.transform||!l.transitionDuration)&&!l.usejQuerySlide()&&(e.options.transitions=!1),b(e),N(e)}function p(e,t){e.running=!0,H(e),O(e,"hidden"),t!==undefined&&e.$slider.css(l.transitionDuration,t+"ms")}function d(e){e.running=!1,O(e,"auto"),e.$slider.css(l.transitionDuration,"0ms")}function v(e,t){e.$slider.css(l.transform,"translate("+t+"px, 0) translateZ(0)")}function m(e){e.preventDefault()}function g(e,t){t===e.$slider.x&&v(e,t)}function y(e,t){D(t)===f?e.prev():e.next()}function b(e){e.proxy={down:n.proxy(e.down,e),move:n.proxy(e.move,e),up:n.proxy(e.up,e)}}function w(e){var t=[];for(var n=0;n<e;n++)t.push(new l.View);return t}function E(e){return e.$slider=n("<div></div>").css({position:"relative",top:"0",height:"100%",width:"100%"}),l.transitionTimingFunction&&e.$slider.css(l.transitionTimingFunction,"ease-out"),e.$container.append(e.$slider),e.$slider.x=0,e.options.swipe.enabled&&(e.$slider.on(l.events.down,e.proxy.down),e.$slider.on(l.events.move,e.proxy.move),e.$slider.on(l.events.up,e.proxy.up)),e.$slider}function S(e,t){var r=n("<div></div>").addClass(e.options.buffer.classes);return t.append(r),e.$buffers.push(r),r}function x(e){var t=E(e);for(var n=0;n<3;n++)S(e,t);H(e),e.buffer=z}function T(e){S(e,e.$container),e.buffer=A}function N(e){e.$buffers=[];if(e.options.transitions){x(e);return}T(e)}function C(e,t,n){if(t.index===n)return;if(n!==undefined){var i=e.get(n);e.$container.trigger(r+"buffer",[i,n]);if(i.$el){t.index=n,t.html(i.$el);return}}t.index=undefined,t.empty()}function k(e,t){for(var n=-1;n<2;n++)C(e,e.$buffers[n+1],F(e,t,n))}function L(e,t,n){e.$container.trigger(r+"hide",[e.get(e.selected),e.selected]),e.selected=t,e.$container.trigger(r+"show",[e.get(t),t]),e.$container.trigger(r+"animationend",[e.get(t),t])}function A(e,t){C(e,e.$buffers[0],t),L(e,t,0)}function O(e,t){if(e.options.skipScroll)return;for(var n=0;n<e.$buffers.length&&e.options.transitions;n++)e.$buffers[n].css("overflow",t)}function M(e,t){p(e,e.options.duration),v(e,e.$slider.x),setTimeout(function(){d(e),L(e,t,1)},e.options.duration)}function _(e,t){e.running=!0,H(e),O(e,"hidden"),e.$slider.animate({left:e.$slider.x},e.options.duration,function(){e.running=!1,O(e,"auto"),L(e,t,1)})}function D(e){return e<0?-1:1}function P(e,t){var n=e.$slider.x,r=(-1*D(n)*Math.abs(n/e.$container.width())+t)*100;e.$buffers[t+1].css("left",r+"%")}function H(e){for(var t=-1;t<2;t++)P(e,t)}function B(e,t){return t>0?t-1:e.options.loop?e.size()-1:undefined}function j(e,t){return t<e.size()-1?t+1:e.options.loop?0:undefined}function F(e,t,n){return n===u?B(e,t):n===f?j(e,t):t}function I(e,t){return l.usejQuerySlide()||e.options.forcejQuery?_(e,t):M(e,t)}function q(e,t){var n=e.$container.width(),r=t-e.selected===1||e.options.loop&&t===0&&e.selected===e.size()-1;if(r){e.$slider.x-=n,e.$buffers.push(e.$buffers.shift());return}e.$slider.x+=n,e.$buffers.unshift(e.$buffers.pop())}function R(e,t){return q(e,t),k(e,t),I(e,t)}function U(e,t){k(e,t),e.running=!1,L(e,t,1)}function z(e,t){if(e.running)return;if(e.selected!==undefined&&W(e,t))return R(e,t);U(e,t)}function W(e,t){return Math.abs(t-e.selected)===1||Math.abs(t-e.selected)===e.size()-1&&e.options.loop}function X(){for(var e=0;e<arguments.length;e++)if("on"+arguments[e]in window)return arguments[e]}function V(){var e;for(var t=0;t<arguments.length;t++){e=arguments[t];for(var n=0;n<o.length;n++){var r=G(o[n]+e);if(r in s)return r}}return!1}function $(){return/Firefox[\/\s](19|[2-9][0-9])/.test(e.navigator.userAgent)}function J(){return/(Version\/5)+.*(Safari)+/g.test(e.navigator.userAgent)}function K(){return/(MSIE 9\.0;)/.test(e.navigator.userAgent)}function Q(){return/Chrome[\/\s]([2-9][6-9])/.test(e.navigator.userAgent)}function G(e){return e.replace(/-(\w)/g,function(t,n){return n.toUpperCase()})}var r="slidekick-",i=[].push,s=t.createElement("div").style,o="-webkit-,-moz-,-o-,-ms-,".split(","),u=-1,a=0,f=1,l=n.fn.slidekick=function(e){if(!this||this.constructor!==l)return new l(e,this);h(this,e,arguments[arguments.length-1])},c=l.View=function(e,t){this.$el=e,this.data=t};n.extend(l.prototype,{add:function(e,t){if(typeof e=="number"){var n=w(e);return i.apply(this.views,n),n}var r=new c(e,t);return this.views.push(r),r},size:function(){return this.views.length},get:function(e){return this.views[e]},remove:function(e){return this.views.splice(e,1),this},stop:function(){this.running=!1,this.$slider.stop()},to:function(e){return this._toBuffer(e),this},_toBuffer:function(e){return e===this.selected?this:this.buffer(this,e)},at:function(){return this.selected},prev:function(){if(this.at()!==0){this.options.pageNavigator.prev();return}this.options.loop&&this.options.pageNavigator.to(this.size()-1)},next:function(){if(this.at()!==this.size()-1){this.options.pageNavigator.next();return}this.options.loop&&this.options.pageNavigator.to(0)},on:function(e,t){return this.$container.on(r+e,t),this},activeBuffer:function(){return this.options.transitions?this.$buffers[1]:this.$buffers[0]},down:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent;this.$slider.startX=t.pageX,this.$slider.startY=t.pageY,this.initiated=!0,this.directionLocked=!1,this.currentXPosition=t.pageX,this.currentYPosition=t.pageY,this.horizontalSteps=0,this.verticalSteps=0,p(this,0)},move:function(e){if(!this.initiated)return;var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent,n=t.pageX-this.$slider.startX;this.horizontalSteps+=Math.abs(t.pageX-this.currentXPosition),this.verticalSteps+=Math.abs(t.pageY-this.currentYPosition),this.currentXPosition=t.pageX,this.currentYPosition=t.pageY;if(this.horizontalSteps<10&&this.verticalSteps<10)return;if(!this.directionLocked&&this.verticalSteps>this.horizontalSteps)return;this.directionLocked=!0,m(e),v(this,this.$slider.x+n)},up:function(e){if(!this.initiated)return;this.initiated=!1,d(this);var t=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e.originalEvent,n=t.pageX-this.$slider.startX,r=Math.abs(n),i=Math.abs(t.pageY-this.$slider.startY),s=this.$slider.x;i-r<0&&r>=this.options.swipe.toleranceX&&y(this,n),g(this,s)},updateOrientation:function(e){H(this)}}),l.events={down:X("touchstart","mousedown"),move:X("touchmove","mousemove"),up:X("touchend","mouseup")},l.transform=V("transform"),l.transitionDuration=V("transition-duration"),l.transitionTimingFunction=V("transition-timing-function"),l.ie9=K(),l.safari5=J(),l.fireFox19Plus=$(),l.chrome26Plus=Q(),l.usejQuerySlide=function(){return this.ie9||this.safari5||this.fireFox19Plus||this.chrome26Plus}})(this,this.document,this.jQuery);